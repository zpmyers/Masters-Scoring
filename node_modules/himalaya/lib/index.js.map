{"version":3,"sources":["index.js"],"names":["childlessTags","closingTags","voidTags","parseDefaults","format","parse","str","options","tokens","nodes","lib","pkg","default","exports","module","himalaya","window"],"mappings":";;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA;;;;AAIA,IAAMA,gBAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,UAApB,CAAtB;;AAEA;;;;AAIA,IAAMC,cAAc,CAClB,MADkB,EACV,MADU,EACF,MADE,EACM,GADN,EACW,IADX,EACiB,IADjB,EACuB,IADvB,EAC6B,QAD7B,EAElB,OAFkB,EAET,IAFS,EAEH,OAFG,EAEM,IAFN,EAEY,IAFZ,EAEkB,OAFlB,EAE2B,UAF3B,CAApB;;AAKA;;;;AAIA,IAAMC,WAAW,CACf,UADe,EACH,MADG,EACK,MADL,EACa,IADb,EACmB,KADnB,EAC0B,SAD1B,EAEf,OAFe,EAEN,IAFM,EAEA,KAFA,EAEO,OAFP,EAEgB,QAFhB,EAE0B,MAF1B,EAGf,MAHe,EAGP,OAHO,EAGE,QAHF,EAGY,OAHZ,EAGqB,KAHrB,CAAjB;;AAMA,IAAMC,gBAAgB;AACpBD,oBADoB;AAEpBD,0BAFoB;AAGpBD,8BAHoB;AAIpBI,qBAJoB,CAIb;AAJa,CAAtB;;AAOA,SAASC,KAAT,CAAgBC,GAAhB,EAA8C;AAAA,MAAzBC,OAAyB,uEAAfJ,aAAe;;AAC5C,MAAMK,SAAS,qBAAMF,GAAN,EAAWC,OAAX,CAAf;AACA,MAAME,QAAQ,sBAAOD,MAAP,EAAeD,OAAf,CAAd;AACA,SAAO,iBAAOE,KAAP,EAAcF,OAAd,CAAP;AACD;;AAED,IAAMG,MAAM,EAACL,YAAD,EAAQF,4BAAR,EAAZ;AACA,IAAMQ,iBAAOC,SAASF,GAAhB,IAAwBA,GAAxB,CAAN;;AAEA;AACA,IAAI,OAAOG,OAAP,KAAmB,WAAvB,EAAoC;AAClC,MAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,OAAOD,OAA5C,EAAqD;AACnDA,cAAUC,OAAOD,OAAP,GAAiBF,GAA3B;AACD;AACDE,UAAQE,QAAR,GAAmBJ,GAAnB;AACD,CALD,MAKO;AACLK,SAAOD,QAAP,GAAkBJ,GAAlB;AACD","file":"index.js","sourcesContent":["import lexer from './lexer'\nimport parser from './parser'\nimport format from './formats/v0'\n\n/*\n  Tags which contain arbitary non-parsed content\n  For example: <script> JavaScript should not be parsed\n*/\nconst childlessTags = ['style', 'script', 'template']\n\n/*\n  Tags which auto-close because they cannot be nested\n  For example: <p>Outer<p>Inner is <p>Outer</p><p>Inner</p>\n*/\nconst closingTags = [\n  'html', 'head', 'body', 'p', 'dt', 'dd', 'li', 'option',\n  'thead', 'th', 'tbody', 'tr', 'td', 'tfoot', 'colgroup'\n]\n\n/*\n  Tags which do not need the closing tag\n  For example: <img> does not need </img>\n*/\nconst voidTags = [\n  '!doctype', 'area', 'base', 'br', 'col', 'command',\n  'embed', 'hr', 'img', 'input', 'keygen', 'link',\n  'meta', 'param', 'source', 'track', 'wbr'\n]\n\nconst parseDefaults = {\n  voidTags,\n  closingTags,\n  childlessTags,\n  format // transform for v0 spec\n}\n\nfunction parse (str, options = parseDefaults) {\n  const tokens = lexer(str, options)\n  const nodes = parser(tokens, options)\n  return format(nodes, options)\n}\n\nconst lib = {parse, parseDefaults}\nconst pkg = {default: lib, ...lib}\n\n/* istanbul ignore next */\nif (typeof exports !== 'undefined') {\n  if (typeof module !== 'undefined' && module.exports) {\n    exports = module.exports = pkg\n  }\n  exports.himalaya = pkg\n} else {\n  window.himalaya = pkg\n}\n"]}